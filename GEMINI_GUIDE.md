# 🤖 Gemini API 사용 가이드

## 제공받은 API 키로 시작하기

Excel Unifier에서 AI 기반 스마트 매칭을 사용하려면 Gemini API 키를 설정하세요.

### 1️⃣ API 키 설정

#### 옵션 A: .env 파일 사용 (권장)

```bash
# .env 파일 생성
echo "GEMINI_API_KEY=제공받은_API_키" > .env
```

#### 옵션 B: 직접 입력

```bash
export GEMINI_API_KEY=제공받은_API_키
```

### 2️⃣ AI 모드로 실행

```bash
# 기본 사용
./run.sh examples/*.xlsx -o output.xlsx --ai -k 이름 학교

# API 키 직접 지정
./run.sh examples/*.xlsx -o output.xlsx --ai --api-key 제공받은_API_키
```

### 3️⃣ 웹 대시보드에서 사용

1. `.env` 파일에 API 키 설정
2. 웹 대시보드 실행: `./start_app.sh`
3. 사이드바에서 "AI 모드" 활성화

## 🔍 AI가 해결하는 문제들

### 문제 1: 동의어 인식 실패

**기본 모드:**
```
"이름" ↔ "성명": 0% ❌ 매칭 실패
```

**AI 모드:**
```
"이름" ↔ "성명": 95% ✅ 동의어로 인식
이유: "두 단어 모두 사람의 이름을 가리키는 동의어입니다"
```

### 문제 2: 다국어 매칭 실패

**기본 모드:**
```
"email" ↔ "이메일": 0% ❌ 매칭 실패
```

**AI 모드:**
```
"email" ↔ "이메일": 100% ✅ 다국어 매칭
이유: "영어 'email'과 한글 '이메일'은 같은 의미입니다"
```

### 문제 3: 약어 인식 실패

**기본 모드:**
```
"HP" ↔ "휴대폰": 0% ❌ 매칭 실패
```

**AI 모드:**
```
"HP" ↔ "휴대폰": 90% ✅ 약어 인식
이유: "HP는 HandPhone의 약어로 휴대폰을 의미합니다"
```

### 문제 4: 유사 개념 인식 부족

**기본 모드:**
```
"전공" ↔ "전공분야": 67% ❌ 임계값 미달
```

**AI 모드:**
```
"전공" ↔ "전공분야": 85% ✅ 유사 개념 인식
이유: "전공과 전공분야는 같은 의미로 사용됩니다"
```

## 📊 비교표

| 매칭 쌍 | 기본 모드 | AI 모드 | 설명 |
|---------|----------|---------|------|
| "이름" ↔ "성명" | ❌ 0% | ✅ 95% | 한국어 동의어 |
| "학교" ↔ "대학교" | ❌ 80% | ✅ 90% | 의미 동일 |
| "전공" ↔ "전공분야" | ❌ 67% | ✅ 85% | 유사 개념 |
| "email" ↔ "이메일" | ❌ 0% | ✅ 100% | 다국어 |
| "HP" ↔ "휴대폰" | ❌ 0% | ✅ 90% | 약어 |
| "tel" ↔ "전화번호" | ❌ 0% | ✅ 95% | 약어+다국어 |

## 💡 사용 팁

### 1. 키워드 사전으로 커버되지 않는 경우 AI 사용

기본 모드는 키워드 사전에 있는 항목만 매칭 가능합니다.
새로운 표현이나 도메인 특화 용어는 AI가 필요합니다.

### 2. 소량 데이터는 AI, 대량 데이터는 하이브리드

- **소량 (< 100개 컬럼)**: AI 모드 권장
- **대량 (> 1000개 컬럼)**: 기본 모드 + 필요시 AI

### 3. 비용 절감 방법

- 키워드 사전에 자주 사용하는 동의어 추가
- 첫 실행은 AI로, 이후는 학습된 매핑 재사용

## 🧪 테스트해보기

```bash
# 예제 파일로 AI 모드 테스트
./run.sh examples/*.xlsx -o test_ai.xlsx --ai -k 이름 학교
```

결과를 확인하고 기본 모드와 비교해보세요!

```bash
# 기본 모드
./run.sh examples/*.xlsx -o test_basic.xlsx -k 이름 학교

# AI 모드
./run.sh examples/*.xlsx -o test_ai.xlsx --ai -k 이름 학교
```

## 📞 문제가 생기면?

1. [AI_SETUP.md](AI_SETUP.md) - 상세 설정 가이드
2. [ALGORITHM.md](ALGORITHM.md) - 알고리즘 상세 설명
3. GitHub Issues - 버그 리포트 및 질문

---

**제공받은 Gemini API 키를 `.env` 파일에 설정하고 시작하세요!** 🚀
